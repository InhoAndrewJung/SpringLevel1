package api3;
/*
 * adviceï¿½ì?ï¿½ì‚ ::
 * 1) api?‘œï¿? ï¿½ê¸½ï¿½ëƒ½ --- MethodInterceptor :: arround è«›â‘¹?–‡ï¿½ì“½ ï¿½ë¼±ï¿½ë±¶è«›ë¶¿?” ï¿½ë’ª
 * 2) xmlï¿½ê¶—ï¿½ìŠœï¿½ë¸¿ --- aop ï¿½ë’ªï¿½ê¶ï§ë‡ï¿? ?®ì¢ì¡‡ï¿½ì—³ï¿½ë–....only ?®ï¿? ï¿½ê½•ï¿½ì ™ï¿½ì‘æ¿¡ì’•ì­? xmlï¿½ì“£ ï¿½ì˜‰ï¿½ê½¦ï¿½ë¸¯ï¿½ë’— è¸°ë‡êµ…æ¿¡?’–ï¿?
 * 3) pointcutï¿½ì“½ ï¿½ë™£ï¿½ê½©ï¿½ì‘æ¿¡ï¿½ JDK ï¿½ì ™æ´¹ì’–?–‡ ï¿½ëª´ï¿½ì½è¸°ëº¤?“£ ï¿½ê¶—ï¿½ìŠœ.
 */
import org.aopalliance.intercept.MethodInterceptor;
import org.aopalliance.intercept.MethodInvocation;
import org.springframework.util.StopWatch;

public class LoggingAdvice  implements MethodInterceptor{
	
	public Object invoke(MethodInvocation invocation) throws Throwable {
		String methodName = invocation.getMethod().getName();
		StopWatch sw = new StopWatch();
		sw.start(methodName);
		
		System.out.println("[LOG] METHOD :"+ methodName+" is calling...");
		Object rtnObj = invocation.proceed();
		
		sw.stop();
		
		System.out.println("[LOG] METHOD :"+ methodName + " was called...");
		System.out.println("[LOG ï§£ì„?”ï¿½ë–†åª›ï¿½ : "+ sw.getTotalTimeMillis()/1000+ "?¥ï¿?");
		return rtnObj;
	}

}









